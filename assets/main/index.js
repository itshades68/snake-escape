System.register("chunks:///_virtual/LevelGenerator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NewSnakeController.ts"],(function(e){var t,r,i,n,o,a,l,c,p,u,s,y,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.createClass,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,c=e.Node,p=e.CCInteger,u=e.Vec2,s=e.CCBoolean,y=e.v2,f=e.Component},function(e){v=e.NewSnakeController}],execute:function(){var h,d,g,m,b,C,z,L,S,x,w,I,_;a._RF.push({},"6dfe5vAWzpBQahyaABqUUbv","LevelGenerator",void 0);var D=l.ccclass,N=l.property,O=l.executeInEditMode;e("LevelGenerator",(h=D("LevelGenerator"),d=N(c),g=N({type:p,tooltip:"ID của Level (ví dụ 5)"}),m=N({type:u,tooltip:"Kích thước map (ví dụ 8x8)"}),b=N({type:p,tooltip:"Giới hạn thời gian (giây)"}),C=N({type:s,tooltip:"Bấm vào đây để xuất ra JSON ở Console"}),h(z=O((S=t((L=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"boardContainer",S,o(t)),n(t,"levelId",x,o(t)),n(t,"mapSize",w,o(t)),n(t,"timeLimit",I,o(t)),n(t,"_generate",_,o(t)),t}return r(t,e),t.prototype.exportLevelData=function(){if(this.boardContainer){var e=[],t=this.boardContainer.children,r=0;t.forEach((function(t){var i=t.getComponent(v);if(i&&t.active){r++;var n=i.pathData.map((function(e){return{x:e.x,y:e.y}}));e.push({id:r,colorId:i.colorId,nodes:n})}}));var i={id:this.levelId,size:{x:this.mapSize.x,y:this.mapSize.y},timeLimit:this.timeLimit,snakes:e};console.log(JSON.stringify(i,null,2))}else console.error("Đại ca chưa kéo Board Container vào!")},i(t,[{key:"generateJSON",get:function(){return this._generate},set:function(e){this._generate=e,e&&(this.exportLevelData(),this._generate=!1)}}]),t}(f)).prototype,"boardContainer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(L.prototype,"levelId",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=t(L.prototype,"mapSize",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y(8,8)}}),I=t(L.prototype,"timeLimit",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 120}}),_=t(L.prototype,"_generate",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(L.prototype,"generateJSON",[C],Object.getOwnPropertyDescriptor(L.prototype,"generateJSON"),L.prototype),z=L))||z)||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NewSnakeController.ts"],(function(e){var t,i,n,r,o,a,s,l,d,c,h,u,p,v,f,y,g,S,b,m,x,C,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.createClass,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,l=e.JsonAsset,d=e.Prefab,c=e.Node,h=e.CCInteger,u=e.Color,p=e.CCFloat,v=e.v2,f=e.UITransform,y=e.Size,g=e.instantiate,S=e.UIOpacity,b=e.Tween,m=e.tween,x=e.Graphics,C=e.Component},function(e){w=e.NewSnakeController}],execute:function(){var z,L,k,I,P,B,G,D,V,M,O,A,E,N,R,T,F,_,U,W,H,j,J,Q;a._RF.push({},"8751aZsDshLeb0I9FEvOF9y","LevelManager",void 0);var Y=s.ccclass,Z=s.property,q=s.executeInEditMode;e("LevelManager",(z=Y("LevelManager"),L=Z([l]),k=Z(d),I=Z(c),P=Z({type:c,tooltip:"Node chứa 3 trái tim"}),B=Z({type:c,tooltip:"Panel Thua (Chứa nút Replay)"}),G=Z({type:c,tooltip:"Panel Thắng (Chứa nút Next Level)"}),D=Z({type:h}),V=Z({type:u}),M=Z({type:p}),O=Z({type:c}),z(A=q((N=t((E=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"levels",N,o(t)),r(t,"snakePrefab",R,o(t)),r(t,"boardContainer",T,o(t)),r(t,"heartsContainer",F,o(t)),r(t,"losePanel",_,o(t)),r(t,"winPanel",U,o(t)),r(t,"cellSize",W,o(t)),r(t,"dotColor",H,o(t)),r(t,"dotRadius",j,o(t)),r(t,"screenBorderNode",J,o(t)),r(t,"_preview",Q,o(t)),t.gridState=[],t.gridSize=v(8,8),t.currentLevelIndex=0,t.currentLives=3,t.maxLives=3,t.isGameOver=!1,t}i(t,e);var a=t.prototype;return a.start=function(){this.loadLevel()},a.loadLevel=function(){var e=this;if(this.isValid&&this.node.isValid&&0!==this.levels.length&&this.snakePrefab&&this.boardContainer){this.clearLevel(),this.isGameOver=!1,this.currentLives=this.maxLives,this.updateHeartsUI(),this.losePanel&&(this.losePanel.active=!1),this.winPanel&&(this.winPanel.active=!1),this.currentLevelIndex>=this.levels.length&&(this.currentLevelIndex=0);var t=this.levels[this.currentLevelIndex].json,i=t.size||{x:8,y:8};this.gridSize=v(i.x,i.y);var n=this.boardContainer.getComponent(f);n||(n=this.boardContainer.addComponent(f));var r=this.cellSize*(this.gridSize.x+this.gridSize.y)/2;n.setContentSize(new y(r,r)),this.boardContainer.setPosition(0,0,0);var o=Math.max(this.gridSize.x,this.gridSize.y),a=.8;o>0&&(a=9/o*.8),a>1&&(a=1),this.boardContainer.setScale(a,a,1),this.gridState=[];for(var s=0;s<this.gridSize.x;s++){this.gridState[s]=[];for(var l=0;l<this.gridSize.y;l++)this.gridState[s][l]=0}this.drawGridDots(),t.snakes.forEach((function(t){var i=g(e.snakePrefab);i.parent=e.boardContainer,i.name="Snake_"+t.id,i.setPosition(0,0,0);var n=i.getComponent(w);if(n){n.init(t.id,e),n.colorId=t.colorId,n.gridSize=e.cellSize;var r=[];t.nodes.forEach((function(i){var n=v(i.x,i.y);r.push(n);var o=e.worldPosToGridIndex(n.x,n.y);e.isValidArrayIndex(o.x,o.y)&&(e.gridState[o.x][o.y]=t.id)})),n.pathData=r}})),console.log("Loaded Level "+(this.currentLevelIndex+1))}},a.worldPosToGridIndex=function(e,t){var i=Math.floor(this.gridSize.x/2),n=Math.floor(this.gridSize.y/2),r=Math.round(e)+i,o=Math.round(t)+n;return v(r,o)},a.isValidArrayIndex=function(e,t){return e>=0&&e<this.gridSize.x&&t>=0&&t<this.gridSize.y},a.isValidWorldPos=function(e,t){var i=this.worldPosToGridIndex(e,t);return this.isValidArrayIndex(i.x,i.y)},a.playScreenFlash=function(){if(this.screenBorderNode){var e=this.screenBorderNode.getComponent(S);e||(e=this.screenBorderNode.addComponent(S)),e.opacity=0,b.stopAllByTarget(e),m(e).to(.1,{opacity:150}).delay(.1).to(.1,{opacity:0}).delay(.1).to(.1,{opacity:150}).delay(.1).to(.1,{opacity:0}).start()}},a.drawGridDots=function(){var e=this.boardContainer.getChildByName("GridGraphics");e||((e=new c("GridGraphics")).parent=this.boardContainer,e.layer=this.boardContainer.layer),e.setPosition(0,0,0),e.setSiblingIndex(0);var t=e.getComponent(x);t||(t=e.addComponent(x)),t.clear(),t.fillColor=this.dotColor;for(var i=-((this.gridSize.x-1)*this.cellSize)/2,n=-((this.gridSize.y-1)*this.cellSize)/2,r=0;r<this.gridSize.x;r++)for(var o=0;o<this.gridSize.y;o++){var a=i+r*this.cellSize,s=n+o*this.cellSize;t.circle(a,s,this.dotRadius)}t.fill()},a.updateHeartsUI=function(){var e=this;this.heartsContainer&&this.heartsContainer.children.forEach((function(t,i){t.active=i<e.currentLives}))},a.onRestartLevel=function(){this.loadLevel()},a.onNextLevel=function(){this.currentLevelIndex++,this.currentLevelIndex>=this.levels.length&&(this.currentLevelIndex=0,console.log("Đã phá đảo! Quay lại level 1.")),this.loadLevel()},a.clearLevel=function(){if(this.boardContainer){for(var e=this.boardContainer.children,t=e.length-1;t>=0;t--){var i=e[t];"GridGraphics"!==i.name&&(i.destroy(),i.removeFromParent())}this.boardContainer.setPosition(0,0,0)}this.gridState=[]},a.onSnakeTap=function(e){if(!this.isGameOver&&!e.isMoving&&e.pathData&&!(e.pathData.length<2)){for(var t=e.pathData[0],i=e.pathData[1],n=v(t.x-i.x,t.y-i.y),r=0,o=t.clone(),a=!1;;){if(o.x+=n.x,o.y+=n.y,!this.isValidWorldPos(o.x,o.y)){r++,a=!0;break}var s=this.worldPosToGridIndex(o.x,o.y);if(0!==this.gridState[s.x][s.y]){a=!1;break}r++}if(a){e.isMoving=!0,this.clearSnakeFromGrid(e);var l=r+(e.pathData.length+6);this.runSmoothEscape(e,l,n)}else console.log("Bonk!"),this.processBonk(e,r,n)}},a.clearSnakeFromGrid=function(e){var t=this;e.pathData.forEach((function(i){var n=t.worldPosToGridIndex(i.x,i.y);t.isValidArrayIndex(n.x,n.y)&&t.gridState[n.x][n.y]===e.snakeId&&(t.gridState[n.x][n.y]=0)}))},a.processBonk=function(e,t,i){this.currentLives--,this.updateHeartsUI(),this.currentLives<=0&&(this.isGameOver=!0,console.log("GAME OVER!")),e.isMoving=!0;this.runSmoothBonkAdvance(e,t,i,[])},a.runSmoothBonkAdvance=function(e,t,i,n){var r=this;t<=0?this.runBonkImpactAndRetreat(e,i,n):e.moveStepSmooth(i,.08,(function(o){o&&n.push(o),e.node&&e.node.isValid&&r.runSmoothBonkAdvance(e,t-1,i,n)}))},a.runBonkImpactAndRetreat=function(e,t,i){var n=this;e.playBonkEffect(t),this.playScreenFlash(),this.scheduleOnce((function(){n.runSmoothBonkRetreat(e,i)}),.6)},a.runSmoothBonkRetreat=function(e,t){var i=this;if(0!==t.length){var n=t.pop();e.moveBackwardSmooth(n,.08,(function(){e.node&&e.node.isValid&&i.runSmoothBonkRetreat(e,t)}))}else this.scheduleOnce((function(){console.log("Snake "+e.snakeId+" recovered."),e.isMoving=!1,i.currentLives<=0&&i.losePanel&&(i.losePanel.active=!0)}),.5)},a.runSmoothEscape=function(e,t,i){var n=this;if(t<=0)return console.log("Snake "+e.snakeId+" bye bye!"),e.node.active=!1,this.checkWinCondition(),void e.node.destroy();e.moveStepSmooth(i,.13,(function(){e.node&&e.node.isValid&&n.runSmoothEscape(e,t-1,i)}))},a.moveOneStepVisualOnly=function(e,t){if(!e.node||!e.node.isValid)return null;var i=[].concat(e.pathData),n=i[0],r=v(n.x+t.x,n.y+t.y),o=i.pop();return i.unshift(r),e.pathData=i,o},a.moveBackwardVisualOnly=function(e,t){if(e.node&&e.node.isValid){var i=[].concat(e.pathData);i.shift(),i.push(t),e.pathData=i}},a.checkWinCondition=function(){var e=!1;this.boardContainer.children.forEach((function(t){t.isValid&&t.active&&(t.getComponent(w)&&(e=!0))})),e||(console.log("YOU WIN!"),this.isGameOver=!0,this.winPanel&&(this.winPanel.active=!0))},n(t,[{key:"previewLevel",get:function(){return this._preview},set:function(e){this._preview=e,e?this.loadLevel():this.clearLevel()}}]),t}(C)).prototype,"levels",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(E.prototype,"snakePrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(E.prototype,"boardContainer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(E.prototype,"heartsContainer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(E.prototype,"losePanel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(E.prototype,"winPanel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(E.prototype,"cellSize",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),H=t(E.prototype,"dotColor",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u(200,200,200,100)}}),j=t(E.prototype,"dotRadius",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),J=t(E.prototype,"screenBorderNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(E.prototype,"_preview",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(E.prototype,"previewLevel",[Z],Object.getOwnPropertyDescriptor(E.prototype,"previewLevel"),E.prototype),A=E))||A)||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./LevelGenerator.ts","./LevelManager.ts","./NewSnakeController.ts","./SkinManager.ts"],(function(){return{setters:[null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/NewSnakeController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkinManager.ts"],(function(t){var e,i,a,n,o,r,s,l,h,c,u,p,d,g,f,y,v,S,b,N,D,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.createClass,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.Prefab,h=t.Node,c=t.CCInteger,u=t.CCFloat,p=t.Vec2,d=t.v3,g=t.v2,f=t.Color,y=t.Sprite,v=t.tween,S=t.Tween,b=t.find,N=t.instantiate,D=t.Component},function(t){_=t.SkinManager}],execute:function(){var E,m,k,w,z,M,T,C,x,V,I,P,O,A,F,B,R,j,H,U,L,K,X,q,G,J;r._RF.push({},"deaa5RfSehCOpvBDpang51X","NewSnakeController",void 0);var Q=s.ccclass,W=s.property,Y=s.executeInEditMode,Z=s.playOnFocus;t("NewSnakeController",(E=Q("NewSnakeController"),m=W({type:l,tooltip:"Kéo BodyPrefab vào đây"}),k=W(h),w=W(h),z=W(h),M=W({type:c}),T=W({type:c}),C=W({type:u}),x=W({type:u}),V=W({type:u}),I=W({type:u}),P=W({type:u}),O=W({type:[p]}),A=W({type:[p]}),E(F=Y(F=Z((R=e((B=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"bodyPrefab",R,o(e)),n(e,"headNode",j,o(e)),n(e,"tailStartNode",H,o(e)),n(e,"tailEndNode",U,o(e)),n(e,"_colorId",L,o(e)),n(e,"gridSize",K,o(e)),n(e,"_stepDistance",X,o(e)),n(e,"headScale",q,o(e)),n(e,"bodyScale",G,o(e)),n(e,"_pathData",J,o(e)),e.snakeId=0,e._levelManager=null,e.isMoving=!1,e.visualNodes=[],e}i(e,t);var r=e.prototype;return r.init=function(t,e){this.snakeId=t,this._levelManager=e},r.onEnable=function(){this.registerEvent(this.headNode),this.registerEvent(this.tailStartNode),this.registerEvent(this.tailEndNode)},r.onDisable=function(){this.unregisterEvent(this.headNode),this.unregisterEvent(this.tailStartNode),this.unregisterEvent(this.tailEndNode)},r.registerEvent=function(t){t&&(t.off(h.EventType.TOUCH_START,this.onTap,this),t.on(h.EventType.TOUCH_START,this.onTap,this))},r.unregisterEvent=function(t){t&&t.off(h.EventType.TOUCH_START,this.onTap,this)},r.onTap=function(t){t.propagationStopped=!0,this.isMoving||this._levelManager&&this._levelManager.onSnakeTap&&this._levelManager.onSnakeTap(this)},r.calculateVisualPoints=function(t){var e=[];if(t.length<2)return e;e.push({pos:d(t[0].x*this.gridSize,t[0].y*this.gridSize,0),angle:0});for(var i=0;i<t.length-1;i++)for(var a=t[i],n=t[i+1],o=n.clone().subtract(a),r=d(o.x*this.gridSize,o.y*this.gridSize,0).length(),s=Math.ceil(r/this.stepDistance),l=g(a.x-n.x,a.y-n.y),h=this.getAngleFromDir(l),c=1;c<=s;c++){var u=c/s,p=(a.x+o.x*u)*this.gridSize,f=(a.y+o.y*u)*this.gridSize;e.push({pos:d(p,f,0),angle:h})}if(e.length>1){var y=e[1].pos,v=g(e[0].pos.x-y.x,e[0].pos.y-y.y);e[0].angle=this.getAngleFromDir(v)}return e},r.moveStepSmooth=function(t,e,i){var a=this,n=[].concat(this._pathData),o=n[0],r=g(o.x+t.x,o.y+t.y),s=n.pop();n.unshift(r);for(var l=this.calculateVisualPoints(n),h=Math.min(this.visualNodes.length,l.length),c=function(){var t=a.visualNodes[u],i=l[u];t&&t.isValid&&i&&v(t).to(e,{position:i.pos},{easing:"linear"}).call((function(){t.angle=i.angle})).start()},u=0;u<h;u++)c();this.scheduleOnce((function(){a._pathData=n,i&&i(s)}),e)},r.moveBackwardSmooth=function(t,e,i){var a=this,n=[].concat(this._pathData);n.shift(),n.push(t);for(var o=this.calculateVisualPoints(n),r=Math.min(this.visualNodes.length,o.length),s=function(){var t=a.visualNodes[l],i=o[l];t&&t.isValid&&i&&v(t).to(e,{position:i.pos},{easing:"linear"}).call((function(){t.angle=i.angle})).start()},l=0;l<r;l++)s();this.scheduleOnce((function(){a._pathData=n,i&&i()}),e)},r.playBonkEffect=function(t){var e=this,i=new f(255,80,80,255),a=new f(255,255,255,255),n=d(t.x*this.gridSize*.4,t.y*this.gridSize*.4,0);this.visualNodes.forEach((function(t,o){if(t&&t.isValid){var r,s=t.position.clone();if(0===o)r=s.clone().add(n);else{var l=e.visualNodes[o-1].position.clone().subtract(s).multiplyScalar(.4);r=s.clone().add(l)}var h=t.getComponent(y);v(t).to(.1,{position:r},{easing:"sineOut"}).to(.15,{position:s},{easing:"sineIn"}).start(),h&&(S.stopAllByTarget(h),h.color=a,v(h).to(.1,{color:i}).delay(.1).to(.1,{color:a}).delay(.1).to(.1,{color:i}).delay(.1).to(.1,{color:a}).start())}}))},r.start=function(){this.buildSnakeVisuals()},r.getSkinManager=function(){if(!this.node||!this.node.scene)return null;if(_.instance)return _.instance;try{var t=b("SkinManager")||b("Canvas/SkinManager");return t?t.getComponent(_):null}catch(t){return null}},r.buildSnakeVisuals=function(){if(this.isValid&&this.node&&this.node.isValid&&this.headNode&&this.tailStartNode&&this.tailEndNode&&this.bodyPrefab&&!(this._pathData.length<2)){this.stepDistance<10&&(this.stepDistance=10);var t=null,e=this.getSkinManager();e&&(t=e.getSkin(this.colorId)),this.visualNodes=[];for(var i=this.node.children,a=i.length-1;a>=0;a--){var n=i[a];n&&n.isValid&&n!==this.headNode&&n!==this.tailStartNode&&n!==this.tailEndNode&&n.destroy()}this.headNode&&(this.headNode.active=!0,this.registerEvent(this.headNode)),this.tailStartNode&&(this.tailStartNode.active=!0,this.registerEvent(this.tailStartNode)),this.tailEndNode&&(this.tailEndNode.active=!0,this.registerEvent(this.tailEndNode));var o=this.calculateVisualPoints(this._pathData),r=0;this.visualNodes=new Array(o.length);for(var s=o.length-1;s>=0;s--){var l=o[s],h=null;0===s?(h=this.headNode,t&&t.head&&this.setSprite(h,t.head),h.setScale(this.headScale,this.headScale,1)):s===o.length-1?(h=this.tailEndNode,t&&t.tail2&&this.setSprite(h,t.tail2),h.setScale(this.bodyScale,this.bodyScale,1)):s===o.length-2?(h=this.tailStartNode,t&&t.tail1&&this.setSprite(h,t.tail1),h.setScale(this.bodyScale,this.bodyScale,1)):((h=N(this.bodyPrefab)).parent=this.node,h.name="Body_"+s,t&&t.body&&this.setSprite(h,t.body),h.setScale(this.bodyScale,this.bodyScale,1),this.registerEvent(h)),h&&(h.position=l.pos,h.angle=l.angle,h.setSiblingIndex(r++),this.visualNodes[s]=h)}}},r.setSprite=function(t,e){if(t&&t.isValid){var i=t.getComponent(y);i&&(i.spriteFrame=e)}},r.getAngleFromDir=function(t){return Math.abs(t.x)<.1&&t.y<-.1?0:Math.abs(t.x)<.1&&t.y>.1?180:t.x<-.1&&Math.abs(t.y)<.1?-90:t.x>.1&&Math.abs(t.y)<.1?90:0},a(e,[{key:"colorId",get:function(){return this._colorId},set:function(t){this._colorId=t,this.buildSnakeVisuals()}},{key:"stepDistance",get:function(){return this._stepDistance},set:function(t){this._stepDistance=t,this.buildSnakeVisuals()}},{key:"pathData",get:function(){return this._pathData},set:function(t){this._pathData=t,this.buildSnakeVisuals()}}]),e}(D)).prototype,"bodyPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(B.prototype,"headNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(B.prototype,"tailStartNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(B.prototype,"tailEndNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(B.prototype,"_colorId",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(B.prototype,"colorId",[T],Object.getOwnPropertyDescriptor(B.prototype,"colorId"),B.prototype),K=e(B.prototype,"gridSize",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),X=e(B.prototype,"_stepDistance",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 33}}),e(B.prototype,"stepDistance",[V],Object.getOwnPropertyDescriptor(B.prototype,"stepDistance"),B.prototype),q=e(B.prototype,"headScale",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),G=e(B.prototype,"bodyScale",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.27}}),J=e(B.prototype,"_pathData",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[g(0,4),g(0,3),g(0,2),g(0,1),g(0,0)]}}),e(B.prototype,"pathData",[A],Object.getOwnPropertyDescriptor(B.prototype,"pathData"),B.prototype),F=B))||F)||F)||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/SkinManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,e,t,r,a,o,l,u,s;return{setters:[function(i){n=i.applyDecoratedDescriptor,e=i.initializerDefineProperty,t=i.inheritsLoose,r=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,l=i.CCInteger,u=i.SpriteFrame,s=i.Component}],execute:function(){var c,p,f,h,b,d,y,g,k,S,m,v,z,w,D,M,F,L,_;a._RF.push({},"95acbk1Ad5Dc4aAsueWLi6F","SkinManager",void 0);var A=o.ccclass,C=o.property,I=i("SnakeSkin",(c=A("SnakeSkin"),p=C({type:l,tooltip:"ID màu (ví dụ: 0=Đỏ, 1=Xanh...)"}),f=C(u),h=C(u),b=C(u),d=C(u),c((k=n((g=function(){e(this,"id",k,this),e(this,"head",S,this),e(this,"body",m,this),e(this,"tail1",v,this),e(this,"tail2",z,this)}).prototype,"id",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=n(g.prototype,"head",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(g.prototype,"body",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(g.prototype,"tail1",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(g.prototype,"tail2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));i("SkinManager",(w=A("SkinManager"),D=C([I]),w(((_=function(i){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=i.call.apply(i,[this].concat(a))||this,e(n,"skins",L,r(n)),n}t(n,i);var a=n.prototype;return a.onLoad=function(){n.instance=this},a.getSkin=function(i){return this.skins.find((function(n){return n.id===i}))||this.skins[0]},n}(s)).instance=void 0,L=n((F=_).prototype,"skins",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=F))||M));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});